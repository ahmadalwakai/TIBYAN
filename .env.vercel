# ===========================================
# TIBYAN LMS - VERCEL PRODUCTION CONFIG
# ===========================================
# Copy these EXACT values to Vercel Dashboard → Settings → Environment Variables

# ===========================================
# 1. DATABASE (NEON - FREE TIER)
# ===========================================
# Go to: https://console.neon.tech/
# 1. Sign up with GitHub
# 2. Create new project: "tibyan-prod"
# 3. Copy connection string from dashboard
# 4. Add ?sslmode=require&pgbouncer=true to the end

DATABASE_URL=postgresql://neondb_owner:[YOUR_PASSWORD]@[YOUR_HOST].neon.tech/neondb?sslmode=require&pgbouncer=true

# Direct URL (same but without pgbouncer):
DIRECT_DATABASE_URL=postgresql://neondb_owner:[YOUR_PASSWORD]@[YOUR_HOST].neon.tech/neondb?sslmode=require

# Example (DO NOT USE - GET YOUR OWN):
# DATABASE_URL=postgresql://neondb_owner:npg_abc123XYZ@ep-cool-forest-123456.us-east-2.aws.neon.tech/neondb?sslmode=require&pgbouncer=true
# DIRECT_DATABASE_URL=postgresql://neondb_owner:npg_abc123XYZ@ep-cool-forest-123456.us-east-2.aws.neon.tech/neondb?sslmode=require

# ===========================================
# 2. AUTHENTICATION SECRETS
# ===========================================
# Generate NEXTAUTH_SECRET:
# Run this in PowerShell:
#   openssl rand -base64 32
# Or use: https://generate-secret.vercel.app/32
# MUST be 32+ characters, unique for production

NEXTAUTH_SECRET=YOUR_GENERATED_SECRET_HERE_32_CHARS_MIN

# Example (DO NOT USE):
# NEXTAUTH_SECRET=K9mPQxW7vN2tR5yH8jL4sF6dG3bV1nM0

# Your Vercel domain (get this AFTER first deployment):
NEXTAUTH_URL=https://tibyan.vercel.app

# ===========================================
# 3. APPLICATION URLs
# ===========================================
# Use your actual Vercel domain
NEXT_PUBLIC_APP_URL=https://tibyan.vercel.app
NEXT_PUBLIC_APP_NAME=تبيان

# ===========================================
# 4. EMAIL SERVICE (RESEND - FREE TIER)
# ===========================================
# Go to: https://resend.com/signup
# 1. Sign up with GitHub
# 2. Verify your email
# 3. Go to API Keys → Create API Key
# 4. Name it "tibyan-production"
# 5. Copy the key (starts with re_)
# 6. Add your domain (yourdomain.com) in Domains section
# 7. Verify domain with DNS records

RESEND_API_KEY=re_YOUR_API_KEY_HERE

# Example (DO NOT USE):
# RESEND_API_KEY=re_123abc456def789ghi012jkl345mno678

# Email sender (MUST match verified domain in Resend):
FROM_EMAIL=noreply@yourdomain.com

# If you don't have a domain yet, use Resend's test domain:
# FROM_EMAIL=onboarding@resend.dev

# ===========================================
# 5. AI AGENT (REQUIRED)
# ===========================================
# For production on Vercel, use mock (no external AI):
LLM_PROVIDER=mock

# Timeouts (optional - defaults are fine):
LLM_TIMEOUT_MS=120000
LLM_HEALTH_TIMEOUT_MS=1500

# ===========================================
# 6. REDIS CACHE (UPSTASH - FREE TIER)
# ===========================================
# OPTIONAL but HIGHLY RECOMMENDED for performance
# Go to: https://console.upstash.com/
# 1. Sign up with GitHub
# 2. Create Redis Database
# 3. Name: "tibyan-cache"
# 4. Region: Choose closest to your Vercel region
# 5. Copy "REDIS_URL" from dashboard

REDIS_URL=redis://default:[PASSWORD]@[HOST].upstash.io:[PORT]

# Example (DO NOT USE):
# REDIS_URL=redis://default:abc123xyz@us1-holy-coral-12345.upstash.io:6379

# ===========================================
# 7. ERROR TRACKING (SENTRY - FREE TIER)
# ===========================================
# OPTIONAL but recommended for production
# Go to: https://sentry.io/signup/
# 1. Sign up with GitHub
# 2. Create project: "tibyan"
# 3. Platform: Next.js
# 4. Copy DSN from settings

SENTRY_DSN=https://[KEY]@[ORG].ingest.sentry.io/[PROJECT]

# Example (DO NOT USE):
# SENTRY_DSN=https://abc123def456ghi789@o123456.ingest.sentry.io/7890123

# ===========================================
# 8. ANALYTICS (OPTIONAL)
# ===========================================
# Google Analytics 4
# Go to: https://analytics.google.com/
# Create property → Get Measurement ID

NEXT_PUBLIC_GOOGLE_ANALYTICS=G-XXXXXXXXXX

# ===========================================
# 9. FILE STORAGE (VERCEL BLOB - FREE TIER)
# ===========================================
# OPTIONAL - for user uploads, avatars, course materials
# Go to: https://vercel.com/dashboard
# 1. Select your project
# 2. Storage tab → Create Database
# 3. Choose "Blob"
# 4. Copy token automatically added to env vars

BLOB_READ_WRITE_TOKEN=vercel_blob_rw_XXXXXXXXXXXXXXXX

# Example (DO NOT USE):
# BLOB_READ_WRITE_TOKEN=vercel_blob_rw_AbCdEf123456_GhIjKl789012MnOpQr345678

# ===========================================
# 10. PAYMENT GATEWAY (STRIPE - OPTIONAL)
# ===========================================
# Only if you want to accept payments
# Go to: https://dashboard.stripe.com/register
# 1. Sign up
# 2. Activate account
# 3. Get API keys from Developers → API keys

STRIPE_SECRET_KEY=sk_live_your_stripe_secret_key_here
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_live_your_stripe_publishable_key_here

# Webhook secret (after setting up webhook):
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# ===========================================
# SETUP CHECKLIST
# ===========================================
# [ ] 1. Create Neon database
# [ ] 2. Generate NEXTAUTH_SECRET (openssl rand -base64 32)
# [ ] 3. Sign up for Resend, get API key
# [ ] 4. Set LLM_PROVIDER=mock
# [ ] 5. (Optional) Create Upstash Redis
# [ ] 6. (Optional) Create Sentry project
# [ ] 7. Copy ALL values to Vercel Environment Variables
# [ ] 8. Deploy to Vercel
# [ ] 9. Update NEXTAUTH_URL with actual Vercel domain
# [ ] 10. Redeploy after updating URL

# ===========================================
# HOW TO ADD TO VERCEL
# ===========================================
# Method 1: Dashboard
# 1. Go to vercel.com/dashboard
# 2. Select your project
# 3. Settings → Environment Variables
# 4. Add each variable above
# 5. Select: Production, Preview, Development
# 6. Save
# 7. Redeploy from Deployments tab

# Method 2: CLI
# vercel env add DATABASE_URL production
# vercel env add NEXTAUTH_SECRET production
# (repeat for each variable)

# ===========================================
# IMPORTANT SECURITY NOTES
# ===========================================
# ❌ NEVER commit this file with real values
# ❌ NEVER share these values publicly
# ❌ NEVER use the same secrets for dev/prod
# ✅ Generate NEW unique secrets for production
# ✅ Rotate secrets every 90 days
# ✅ Use different database for production
# ✅ Keep this file LOCAL only

# ===========================================
# PRIORITY ORDER (DO THESE FIRST)
# ===========================================
# 1. DATABASE_URL (Neon - 5 minutes)
# 2. NEXTAUTH_SECRET (Generate - 1 minute)
# 3. NEXTAUTH_URL (Your Vercel domain)
# 4. RESEND_API_KEY (Resend - 10 minutes)
# 5. FROM_EMAIL (Match Resend domain)
# 6. LLM_PROVIDER=mock (Already set)

# Everything else is OPTIONAL - add later if needed

# ===========================================
# FAST TRACK (MINIMUM VIABLE PRODUCTION)
# ===========================================
# To deploy quickly, you ONLY need these 6:
# 1. DATABASE_URL
# 2. DIRECT_DATABASE_URL
# 3. NEXTAUTH_SECRET
# 4. NEXTAUTH_URL
# 5. RESEND_API_KEY
# 6. FROM_EMAIL
# 7. LLM_PROVIDER=mock
# 8. NEXT_PUBLIC_APP_URL
# 9. NEXT_PUBLIC_APP_NAME=تبيان

# All others can be added later as you scale
